
plugins {
    id "java"
    id "org.jetbrains.intellij" version "1.15.0"
}
group 'org.taack'
version '1.6.5'

repositories {
    mavenCentral()
}

dependencies {
    implementation('org.jetbrains:marketplace-zip-signer:0.1.24')
}

// See https://github.com/JetBrains/gradle-intellij-plugin/

intellij {
    type = 'IU'
    version = '2024.1+'
    plugins = ['com.intellij.java', 'org.intellij.groovy']
}

// See https://lp.jetbrains.com/gradle-intellij-plugin/?_ga=2.137053042.394721671.1650106934-1691671707.1650106934
patchPluginXml {
    changeNotes.set(provider {
        """2024.X version.<br><em>Ensure Taack AST Transformations get completion</em>"""
    })
}

signPlugin {
//    password = System.getenv("PRIVATE_KEY_PASSWORD")
//    certificateChain = new File('/home/auo/intellij/chain.crt').text
//    privateKey = new File('/home/auo/intellij/private.pem').text
}


publishPlugin {
    token = System.getenv("PUBLISH_TOKEN")
}